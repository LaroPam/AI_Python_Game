# Phaser Survivors

Полноценный шаблон игры в духе Vampire Survivors на Phaser 3 (ES-модули) для запуска в браузере и публикации в Яндекс Игры.

## Быстрый старт

```bash
npm install
npm start
# откройте http://localhost:8080/index.html если http-server поднялся из корня
```

Игра стартует из `index.html` без сборки.

## Структура
- `index.html` — точка входа, контейнер для Phaser.
- `main.js` — загрузка Phaser с CDN и запуск конфигурации.
- `src/config.js` — конфиг Phaser и список сцен.
- `src/scenes/` — Boot/Preload/MainMenu/Game/UI/Pause/LevelUp/Settings/GameOver.
- `src/entities/` — Player, Enemy, Boss, Projectile, XPOrb, LootChest.
- `src/weapons/` — базовый класс и 5 оружий (magic missile, aura, lightning, boomerang, orbit blades).
- `src/systems/` — спавн врагов, волны, XP, лут, апгрейды, коллизии.
- `src/ui/` — Health/XP бары, мини-карта, всплывающий текст, меню прокачки.
- `src/data/` — JSON баланса: оружия, враги, волны, апгрейды, общие параметры.
- `assets/` — плейсхолдер-папки для ассетов (генерируются в рантайме через `Graphics.generateTexture`).

## Настройка под Яндекс Игры
- Проект уже работает из `index.html` и не требует сборки.
- Для публикации соберите zip: `npm run build` (создаст `dist.zip`).
- Убедитесь, что CDN Phaser доступен в среде публикации или добавьте локальную копию `phaser.js` в `assets/`.

## Расширение контента
- **Новое оружие**: добавьте запись в `src/data/weapons.json`, создайте класс в `src/weapons/`, подключите в `Player.js` (WEAPON_CLASSES).
- **Новые враги**: добавьте объект в `src/data/enemies.json` и используйте его id в `src/data/waves.json`.
- **Баланс**: все параметры вынесены в JSON, обновляйте значения без изменения кода.
- **Улучшения**: расширяйте `src/data/upgrades.json`. Система возьмёт случайные 3 пункта на уровне.

## Особенности геймплея
- Карта 6000x6000, камера следует за игроком, миникарта показывает положение.
- Волны врагов из `waves.json` усиливают сложность, каждые 5 минут босс.
- 5 видов оружия с уникальной логикой автоатаки.
- Прокачка: 20+ апгрейдов, редкие золотые эффекты, магнит, аура, перезарядка.
- Лут: XP орбы, сундуки, редкие награды.
- UI: HP/XP, таймер, миникарта, всплывающие уведомления, меню паузы/настроек/конца игры.

## Сохранения
- `SaveSystem` хранит настройки и прогресс (лучшее время, открытое оружие) в `localStorage`.

## Производительность
- Arcade Physics с отключенной гравитацией, 60 FPS таргет.
- Простая система пулов через Phaser Groups, off-screen логика минимизирована.

## Ассеты
- В проекте используются процедурные плейсхолдеры. Замените их своими текстурами/звуками, разместив в `assets/` и обновив загрузку в сценах.
- Аудио отключено (см. `audio` в `src/config.js`), чтобы избежать ошибок при отсутствии звуковых файлов. Для включения звука добавьте свои аудио-ресурсы в `assets/audio` и уберите флаги `noAudio/disableWebAudio`.
